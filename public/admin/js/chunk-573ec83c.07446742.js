(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-573ec83c"],{"080d":function(t,e,a){},d998:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.product.name))]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mt-1 mb-4"},[a("div",{staticClass:"d-flex justify-content-center",on:{dragover:function(t){t.preventDefault()},drop:t.onImageDrop}},[a("label",{staticClass:"large-add-button",attrs:{for:"images"}},[a("span",{},[t._v("+")]),a("input",{ref:"images",staticStyle:{position:"absolute",opacity:"0"},attrs:{type:"file",id:"images",multiple:""},on:{change:t.onImageChange}}),a("div",{staticClass:"loading",style:t.ProgressbarProgression})])])]),a("div",{staticClass:"col-8"},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"position-relative"},[a("img",{staticClass:"mw-100 rounded",attrs:{src:t.ActiveImage,alt:""}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.ProductHasNoMedia,expression:"!ProductHasNoMedia"}],staticClass:"position-absolute",staticStyle:{top:"0",right:"0"}},[a("button",{staticClass:"btn btn-sm btn-outline-delete",on:{click:t.removeImage}},[a("span",[t._v("x")])])])])])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"d-flex flex-wrap mw-100"},t._l(t.product.media,(function(e,i){return a("div",{key:i,staticClass:"mr-1"},[a("thumb",{key:i,attrs:{image:e,index:i,active_image:t.active_image},on:{set_active:t.setActiveImage}})],1)})),0)])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Naam")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Omschrijving")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{name:"",id:""},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Prijs")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group d-flex justify-content-between"},[a("button",{staticClass:"btn btn-outline-primary",on:{click:t.updateProduct}},[t._v("Aanpassen")]),a("button",{staticClass:"btn btn-outline-danger",on:{click:t.deleteProduct}},[t._v("Verwijderen")])])])])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t._m(0),a("div",{staticClass:"mb-2"},t._l(t.Categories,(function(e){return a("div",{key:e.id,staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.categories,expression:"product.categories"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"category_"+e.id},domProps:{value:e,checked:Array.isArray(t.product.categories)?t._i(t.product.categories,e)>-1:t.product.categories},on:{change:function(a){var i=t.product.categories,s=a.target,c=!!s.checked;if(Array.isArray(i)){var r=e,o=t._i(i,r);s.checked?o<0&&t.$set(t.product,"categories",i.concat([r])):o>-1&&t.$set(t.product,"categories",i.slice(0,o).concat(i.slice(o+1)))}else t.$set(t.product,"categories",c)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"category_"+e.id}},[t._v(t._s(e.name))])])})),0)]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-title font-weight-bold"},[t._v(" Merk ")]),a("div",{staticClass:"mb-2"},t._l(t.Brands,(function(e){return a("div",{key:e.id,staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.brand,expression:"product.brand"}],staticClass:"form-check-input",attrs:{type:"radio",id:"brand_"+e.id},domProps:{value:e,checked:t._q(t.product.brand,e)},on:{change:function(a){return t.$set(t.product,"brand",e)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"brand_"+e.id}},[t._v(t._s(e.name))])])})),0)])])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"card-title font-weight-bold"},[t._v(" Categorie ")])])}],c=(a("a4d3"),a("e01a"),a("99af"),a("a434"),a("b0c0"),a("96cf"),a("1da1")),r=a("1c03"),o=a("de62"),n=a("fb97"),d=a("ece9"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thumb",class:{active:t.index===t.active_image}},[a("img",{staticClass:"rounded",staticStyle:{"max-width":"50px"},attrs:{src:t.image.thumb,alt:""},on:{click:t.setActive}})])},l=[],p={name:"Thumb",props:{image:{},index:{},active_image:{}},methods:{setActive:function(){this.$emit("set_active",this.index)}}},m=p,v=(a("fff2"),a("2877")),f=Object(v["a"])(m,u,l,!1,null,"4556ee75",null),g=f.exports,h={name:"Show",components:{thumb:g},mixins:[o["a"],n["a"],d["a"]],data:function(){return{product:{media:[]},active_image:0}},computed:{ProductHasNoMedia:function(){return 0===this.product.media.length},ActiveImage:function(){return this.ProductHasNoMedia?"":this.product.media[this.active_image].display}},methods:{getProduct:function(){var t=this;r["a"].get("/product/".concat(this.$route.params.id)).then((function(e){t.product=e.data}))},updateProduct:function(){r["a"].post("/product/".concat(this.product.id),{name:this.product.name,description:this.product.description,price:this.product.price,brand_id:this.product.brand.id,categories:this.product.categories,_method:"PATCH"}).then((function(){}))},deleteProduct:function(){var t=this;r["a"].post("/product/".concat(this.product.id),{_method:"DELETE"}).then((function(){t.$router.push("/products")}))},setActiveImage:function(t){this.active_image=t},uploadImage:function(t){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=new FormData,i.append("image",t),i.append("_method","PATCH"),a.next=5,r["a"].post("/product/".concat(e.product.id,"/media"),i).then((function(t){e.product.media.push(t.data)}));case 5:return s=a.sent,a.abrupt("return",s);case 7:case"end":return a.stop()}}),a)})))()},removeImage:function(){var t=this;r["a"].post("/product/".concat(this.product.id,"/media/").concat(this.product.media[this.active_image].id),{_method:"DELETE"}).then((function(){t.product.media.splice(t.active_image,1),t.ProductHasNoMedia||0===t.active_image?t.active_image=0:t.active_image--}))}},created:function(){this.getProduct()}},b=h,C=Object(v["a"])(b,i,s,!1,null,"4d0eaa26",null);e["default"]=C.exports},de62:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var i={computed:{Categories:function(){return this.$store.state.categories.categories}}}},fb97:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var i={computed:{Brands:function(){return this.$store.state.brands.brands}}}},fff2:function(t,e,a){"use strict";var i=a("080d"),s=a.n(i);s.a}}]);
//# sourceMappingURL=chunk-573ec83c.07446742.js.map