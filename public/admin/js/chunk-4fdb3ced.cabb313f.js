(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fdb3ced"],{"0d09":function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var i=a("d4ec"),r=a("bee2"),n=a("262e"),c=a("2caf"),s=a("9ab4"),o=a("2b0e"),u=a("2fe1"),d=function(t){Object(n["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"Brands",get:function(){return this.$store.state.brands.brands}}]),a}(o["default"]);d=Object(s["a"])([u["a"]],d)},1252:function(t,e,a){},"1dd3":function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));a("96cf");var i=a("1da1"),r=a("d4ec"),n=a("bee2"),c=a("e293"),s=function(){function t(){Object(r["a"])(this,t)}return Object(n["a"])(t,null,[{key:"fetch",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",c["a"].get("/product"));case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"find",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",c["a"].get("/product/".concat(e)));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"create",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",c["a"].post("/product",{content:e.serialize()}));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"update",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("in class"),t.abrupt("return",c["a"].post("/product/".concat(e.id),{content:e.serialize(),_method:"PATCH"}));case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"delete",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",c["a"].post("/product/".concat(e.id),{_method:"DELETE"}));case 1:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}()},"439e":function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));a("4160"),a("159b");var i=a("d4ec"),r=a("bee2"),n=function(){function t(){Object(i["a"])(this,t),this.media=[]}return Object(r["a"])(t,[{key:"onChangeEvent",value:function(t){this.setMedia(t.target.files)}},{key:"onDroppedEvent",value:function(t){t.stopPropagation(),t.preventDefault(),this.setMedia(t.dataTransfer.files)}},{key:"setMedia",value:function(t){var e=this;t.forEach((function(t){e.media.push(t)}))}},{key:"getMedia",value:function(){return this.media}},{key:"clearMedia",value:function(){this.media=[]}}]),t}()},"5bbf":function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));var i=a("d4ec"),r=a("bee2"),n=a("262e"),c=a("2caf"),s=a("9ab4"),o=a("2b0e"),u=a("2fe1"),d=function(t){Object(n["a"])(a,t);var e=Object(c["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(r["a"])(a,[{key:"Categories",get:function(){return this.$store.state.categories.categories}}]),a}(o["default"]);d=Object(s["a"])([u["a"]],d)},"6c56":function(t,e,a){"use strict";a.d(e,"a",(function(){return l}));a("a4d3"),a("e01a"),a("99af"),a("c740"),a("4160"),a("a434"),a("b0c0"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0");var i=a("d4ec"),r=a("bee2"),n=a("262e"),c=a("2caf"),s=a("5b80"),o=a("439e"),u=a("e293"),d=a("c3f3"),l=function(t){Object(n["a"])(a,t);var e=Object(c["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.call(this),t.name="",t.price="",t.description="",t.categories=[],t.media=[],t.brand=new s["a"],t.uploadMedia=new o["a"],t}return Object(r["a"])(a,[{key:"deserialize",value:function(t){return Object.assign(this,t),this.brand=(new s["a"]).deserialize(t.brand),this}},{key:"serialize",value:function(){return{id:this.id,name:this.name,price:this.price,description:this.description,brand:this.brand.serialize(),categories:this.categories,media:this.media}}},{key:"deleteMedia",value:function(t){var e=this,a=this.media.findIndex((function(e){return e===t}));u["a"].post("/product/".concat(this.id,"/media/").concat(t.id),{_method:"DELETE"}).then((function(){e.media.splice(a,1)}))}},{key:"onChangeEvent",value:function(t){this.uploadMedia.onChangeEvent(t),this.storeMedia()}},{key:"onDroppedEvent",value:function(t){this.uploadMedia.onDroppedEvent(t),this.storeMedia()}},{key:"storeMedia",value:function(){var t=this,e=[];this.uploadMedia.getMedia().forEach((function(a){e.push(new Promise((function(e){var i=new FormData;i.append("image",a),i.append("_method","PATCH"),u["a"].post("/product/".concat(t.id,"/media"),i).then((function(a){t.media.push(a.data),e()}))})))})),Promise.all(e).then((function(){t.uploadMedia.clearMedia()}))}}]),a}(d["a"])},"776e":function(t,e,a){"use strict";var i=a("1252"),r=a.n(i);r.a},"7db0":function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").find,n=a("44d2"),c=a("ae40"),s="find",o=!0,u=c(s);s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!u},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},c740:function(t,e,a){"use strict";var i=a("23e7"),r=a("b727").findIndex,n=a("44d2"),c=a("ae40"),s="findIndex",o=!0,u=c(s);s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o||!u},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},d998:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v(t._s(t.product.name))]),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-8"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 mt-1 mb-4"},[a("div",{staticClass:"d-flex justify-content-center",on:{dragover:function(t){t.preventDefault()},drop:function(e){return t.product.onDroppedEvent(e)}}},[a("label",{staticClass:"large-add-button",attrs:{for:"images"}},[a("span",{},[t._v("+")]),a("input",{ref:"images",staticStyle:{position:"absolute",opacity:"0"},attrs:{id:"images",multiple:"",type:"file"},on:{change:function(e){return t.product.onChangeEvent(e)}}}),a("div",{staticClass:"loading"})])])]),a("div",{staticClass:"col-8"},[a("div",{staticClass:"mb-3"},[a("div",{staticClass:"position-relative"},[a("img",{staticClass:"mw-100 rounded",attrs:{src:t.ActiveImage,alt:""}}),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.ProductHasNoMedia,expression:"!ProductHasNoMedia"}],staticClass:"position-absolute",staticStyle:{top:"0",right:"0"}},[a("button",{staticClass:"btn btn-sm btn-outline-delete",on:{click:t.removeImage}},[a("span",[t._v("x")])])])])])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"d-flex flex-wrap mw-100"},t._l(t.product.media,(function(e,i){return a("div",{key:i,staticClass:"mr-1"},[a("thumb",{key:i,attrs:{active_image:t.activeImage,image:e,index:i},on:{set_active:t.setActiveImage}})],1)})),0)])])]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Naam")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.name,expression:"product.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.name},on:{input:function(e){e.target.composing||t.$set(t.product,"name",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Omschrijving")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.product.description,expression:"product.description"}],staticClass:"form-control",attrs:{id:"",name:""},domProps:{value:t.product.description},on:{input:function(e){e.target.composing||t.$set(t.product,"description",e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:""}},[t._v("Prijs")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.price,expression:"product.price"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.product.price},on:{input:function(e){e.target.composing||t.$set(t.product,"price",e.target.value)}}})]),a("div",{staticClass:"form-group d-flex justify-content-between"},[a("button",{staticClass:"btn btn-outline-primary",on:{click:t.updateProduct}},[t._v(" Aanpassen ")]),a("button",{staticClass:"btn btn-outline-danger",on:{click:t.deleteProduct}},[t._v(" Verwijderen ")])])])])]),a("div",{staticClass:"col-4"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[t._m(0),a("div",{staticClass:"mb-2"},t._l(t.Categories,(function(e){return a("div",{key:e.id,staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.categories,expression:"product.categories"}],staticClass:"form-check-input",attrs:{id:"category_"+e.id,type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.product.categories)?t._i(t.product.categories,e)>-1:t.product.categories},on:{change:function(a){var i=t.product.categories,r=a.target,n=!!r.checked;if(Array.isArray(i)){var c=e,s=t._i(i,c);r.checked?s<0&&t.$set(t.product,"categories",i.concat([c])):s>-1&&t.$set(t.product,"categories",i.slice(0,s).concat(i.slice(s+1)))}else t.$set(t.product,"categories",n)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"category_"+e.id}},[t._v(t._s(e.name))])])})),0)]),a("div",{staticClass:"card-body"},[a("div",{staticClass:"card-title font-weight-bold"},[t._v(" Merk ")]),a("div",{staticClass:"mb-2"},t._l(t.Brands,(function(e){return a("div",{key:e.id,staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.product.brand,expression:"product.brand"}],staticClass:"form-check-input",attrs:{id:"brand_"+e.id,type:"radio"},domProps:{value:e,checked:t._q(t.product.brand,e)},on:{change:function(a){return t.$set(t.product,"brand",e)}}}),a("label",{staticClass:"form-check-label",attrs:{for:"brand_"+e.id}},[t._v(t._s(e.name))])])})),0)])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex justify-content-between"},[a("div",{staticClass:"card-title font-weight-bold"},[t._v(" Categorie ")])])}],n=(a("7db0"),a("d4ec")),c=a("bee2"),s=a("262e"),o=a("2caf"),u=a("9ab4"),d=a("2fe1"),l=a("5bbf"),p=a("0d09"),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"thumb",class:{active:t.index===t.activeImage}},[a("img",{staticClass:"rounded",staticStyle:{"max-width":"50px"},attrs:{src:t.image.thumb,alt:""},on:{click:t.setActive}})])},f=[],m=a("2b0e"),h=m["default"].extend({props:{image:{},index:{},activeImage:{}}}),b=function(t){Object(s["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(n["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"setActive",value:function(){this.$emit("set_active",this.index)}}]),a}(Object(d["b"])(h));b=Object(u["a"])([d["a"]],b);var g=b,y=g,C=(a("776e"),a("2877")),k=Object(C["a"])(y,v,f,!1,null,"88b43f2a",null),w=k.exports,j=a("6c56"),O=a("1dd3"),_=function(t){Object(s["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(n["a"])(this,a),t=e.apply(this,arguments),t.product=new j["a"],t.activeImage=0,t}return Object(c["a"])(a,[{key:"created",value:function(){var t=this;O["a"].find(this.$route.params.id).then((function(e){return t.product=(new j["a"]).deserialize(e.data)}))}},{key:"updateProduct",value:function(){console.log("update"),O["a"].update(this.product)}},{key:"deleteProduct",value:function(){var t=this;O["a"].delete(this.product).then((function(){t.$router.push("/products")}))}},{key:"setActiveImage",value:function(t){this.activeImage=t}},{key:"removeImage",value:function(){this.product.deleteMedia(this.product.media[this.activeImage]),this.ProductHasNoMedia||0===this.activeImage?this.activeImage=0:this.activeImage--}},{key:"ProductHasNoMedia",get:function(){return 0===this.product.media.length}},{key:"ActiveImage",get:function(){return this.ProductHasNoMedia?"":this.product.media[this.activeImage].display}}]),a}(Object(d["b"])(l["a"],p["a"],w));_=Object(u["a"])([d["a"]],_);var x=_,M=x,I=Object(C["a"])(M,i,r,!1,null,"78a5599b",null);e["default"]=I.exports}}]);
//# sourceMappingURL=chunk-4fdb3ced.cabb313f.js.map