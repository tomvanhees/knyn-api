(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32e6f631"],{"13e3":function(e,t,n){"use strict";var a=n("ba71"),r=n.n(a);r.a},"202b":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("99af"),n("c740"),n("4160"),n("a434"),n("b0c0"),n("d3b7"),n("3ca3"),n("159b"),n("ddb0");var a=n("d4ec"),r=n("bee2"),i=n("262e"),c=n("2caf"),o=n("439e"),u=n("e293"),s=n("c3f3"),l=function(e){Object(i["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(a["a"])(this,n),e=t.call(this),e.name="",e.cover="",e.id=0,e.media=[],e.slug="",e.uploadMedia=new o["a"],e}return Object(r["a"])(n,[{key:"onChangeEvent",value:function(e){this.uploadMedia.onChangeEvent(e),this.storeMedia()}},{key:"onDroppedEvent",value:function(e){this.uploadMedia.onDroppedEvent(e),this.storeMedia()}},{key:"storeMedia",value:function(){var e=this,t=[];this.uploadMedia.getMedia().forEach((function(n){t.push(new Promise((function(t){var a=new FormData;a.append("image",n),a.append("_method","PATCH"),u["a"].post("/gallery/".concat(e.id,"/media"),a).then((function(n){e.media.push(n.data),t()}))})))})),Promise.all(t).then((function(){e.uploadMedia.clearMedia()}))}},{key:"deleteMedia",value:function(e){var t=this,n=this.media.findIndex((function(t){return t===e}));u["a"].post("/gallery/".concat(this.id,"/media/").concat(e.id),{_method:"DELETE"}).then((function(){t.media.splice(n,1)}))}}]),n}(s["a"])},"39cd":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(" "+e._s(e.gallery.name)+" ")]),n("div",{staticClass:"container"},[n("div",{staticClass:"row mb-5"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"card"},[n("div",{staticClass:"card-body d-flex justify-content-between"},[n("div",{staticClass:"form-group"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.gallery.name,expression:"gallery.name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.gallery.name},on:{input:function(t){t.target.composing||e.$set(e.gallery,"name",t.target.value)}}}),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-outline-primary",on:{click:e.updateGallery}},[e._v(" aanpassen ")])])])]),n("div",{staticClass:"form-group"},[n("button",{staticClass:"btn btn-outline-danger btn-block",on:{click:e.deleteGallery}},[e._v(" Gallerij verwijderen ")])])]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"d-flex justify-content-center"},[n("label",{staticClass:"large-add-button",attrs:{for:"image"},on:{dragover:function(e){e.preventDefault()},drop:function(t){return e.gallery.onDroppedEdvent(t)}}},[n("span",[e._v("+")]),n("input",{ref:"upload",staticStyle:{opacity:"0",position:"absolute"},attrs:{id:"image",multiple:"",type:"file"},on:{change:function(t){return e.gallery.onChangeEvent(t)}}}),n("div",{staticClass:"loading"})])])]),n("div",{staticClass:"card-body"},[n("div",{staticClass:"image-container"},e._l(e.gallery.media,(function(t){return n("dl-gallery-image",{key:t.id,attrs:{item:t},on:{"remove-media":function(n){return e.gallery.deleteMedia(t)}}})})),1)])])])])])])},r=[],i=(n("7db0"),n("d4ec")),c=n("bee2"),o=n("262e"),u=n("2caf"),s=n("9ab4"),l=n("2b0e"),d=n("2fe1"),f=n("e02d"),p=n("202b"),v=n("67bd"),b=function(e){Object(o["a"])(n,e);var t=Object(u["a"])(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.gallery=new p["a"],e}return Object(c["a"])(n,[{key:"created",value:function(){var e=this;v["a"].find(this.$route.params.id).then((function(t){e.gallery=(new p["a"]).deserialize(t.data)}))}},{key:"updateGallery",value:function(){v["a"].update(this.gallery)}},{key:"deleteGallery",value:function(){var e=this;v["a"].delete(this.gallery).then((function(){e.$router.push("/inspiratie")}))}}]),n}(l["default"]);b=Object(s["a"])([Object(d["a"])({components:{"dl-gallery-image":f["a"]}})],b);var h=b,m=h,g=(n("13e3"),n("2877")),y=Object(g["a"])(m,a,r,!1,null,"e8fc67e6",null);t["default"]=y.exports},"439e":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("4160"),n("159b");var a=n("d4ec"),r=n("bee2"),i=function(){function e(){Object(a["a"])(this,e),this.media=[]}return Object(r["a"])(e,[{key:"onChangeEvent",value:function(e){this.setMedia(e.target.files)}},{key:"onDroppedEvent",value:function(e){e.stopPropagation(),e.preventDefault(),this.setMedia(e.dataTransfer.files)}},{key:"setMedia",value:function(e){var t=this;e.forEach((function(e){t.media.push(e)}))}},{key:"getMedia",value:function(){return this.media}},{key:"clearMedia",value:function(){this.media=[]}}]),e}()},"67bd":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n("96cf");var a=n("1da1"),r=n("d4ec"),i=n("bee2"),c=n("e293"),o=function(){function e(){Object(r["a"])(this,e)}return Object(i["a"])(e,null,[{key:"fetch",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].get("/gallery"));case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"find",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].get("/gallery/".concat(t)));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"create",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].post("/gallery",{content:t.serialize()}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].post("/gallery/".concat(t.id),{content:t.serialize(),_method:"PATCH"}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",c["a"].post("/gallery/".concat(t.id),{_method:"DELETE"}));case 1:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}()},"7db0":function(e,t,n){"use strict";var a=n("23e7"),r=n("b727").find,i=n("44d2"),c=n("ae40"),o="find",u=!0,s=c(o);o in[]&&Array(1)[o]((function(){u=!1})),a({target:"Array",proto:!0,forced:u||!s},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},"99af":function(e,t,n){"use strict";var a=n("23e7"),r=n("d039"),i=n("e8b5"),c=n("861d"),o=n("7b0b"),u=n("50c4"),s=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),v=f("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",m=p>=51||!r((function(){var e=[];return e[v]=!1,e.concat()[0]!==e})),g=d("concat"),y=function(e){if(!c(e))return!1;var t=e[v];return void 0!==t?!!t:i(e)},w=!m||!g;a({target:"Array",proto:!0,forced:w},{concat:function(e){var t,n,a,r,i,c=o(this),d=l(c,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(i=-1===t?c:arguments[t],y(i)){if(r=u(i.length),f+r>b)throw TypeError(h);for(n=0;n<r;n++,f++)n in i&&s(d,f,i[n])}else{if(f>=b)throw TypeError(h);s(d,f++,i)}return d.length=f,d}})},ba71:function(e,t,n){},c740:function(e,t,n){"use strict";var a=n("23e7"),r=n("b727").findIndex,i=n("44d2"),c=n("ae40"),o="findIndex",u=!0,s=c(o);o in[]&&Array(1)[o]((function(){u=!1})),a({target:"Array",proto:!0,forced:u||!s},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),i(o)},e02d:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card m-2",staticStyle:{width:"250px"}},[n("img",{staticClass:"card-img-top",attrs:{src:e.item.path,alt:""},on:{error:e.imageUrlAlt}}),n("div",{staticClass:"position-absolute",staticStyle:{top:"0",right:"0"}},[n("button",{staticClass:"btn btn-outline-delete btn-sm",on:{click:e.removeMedia}},[n("span",[e._v("x")])])])])},r=[],i=n("d4ec"),c=n("bee2"),o=n("262e"),u=n("2caf"),s=n("9ab4"),l=n("2b0e"),d=n("2fe1"),f=l["default"].extend({props:{item:{type:Object,required:!0}}}),p=function(e){Object(o["a"])(n,e);var t=Object(u["a"])(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return Object(c["a"])(n,[{key:"removeMedia",value:function(){this.$emit("remove-media",this.item)}},{key:"imageUrlAlt",value:function(e){e.target.src="https://picsum.photos/250/250"}}]),n}(Object(d["b"])(f));p=Object(s["a"])([d["a"]],p);var v=p,b=v,h=n("2877"),m=Object(h["a"])(b,a,r,!1,null,"53dc3b1a",null);t["a"]=m.exports}}]);
//# sourceMappingURL=chunk-32e6f631.78861faa.js.map